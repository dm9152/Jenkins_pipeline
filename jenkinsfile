pipeline {

    agent any

    matrix {
        axes {

            axis {
                name 'OS'
                values 'linux', 'windows'
            }

            axis {
                name 'JAVA_VERSION'
                values '11', '17'
            }
            
        }

        stages {

            stage('Build') {
                steps {
                    script {
                        echo "Building on ${OS} with Java ${JAVA_VERSION}"

                    }
                }
            }

            stage('Test') {
                steps {
                    script {
                        echo "Running tests on ${OS} with Java ${JAVA_VERSION}"
                    }
                }
            }

        }
    }

    
}